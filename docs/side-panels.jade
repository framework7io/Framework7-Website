extends ../jade/_internal-template

block vars
  - var activeLink = 'docs';
  - var title = 'Side Panels | Framework7 Documentation';

block content
  .docs-demo-device
    iframe(width="320", height="548", frameborder="0", scrolling="on")
    .fade-overlay
  .docs-wrap
    .docs-nav
      include ../jade/_docs-menu
    .docs-content.with-device
      .full-width
        h1 侧栏
        p 让我们看看如何添加侧栏。我们的APP可能包含两种侧栏,一个在左边,另一个在右边。我们应该在body的开始处添加侧栏的html<code>body</code>:
        pre
          code
            | &lt;body&gt;
            |     &lt;!-- First, we need to add Panel's overlay that will overlays app while panel is opened --&gt;
            |     &lt;div class="panel-overlay"&gt;&lt;/div&gt;
            | 
            |     &lt;!-- Left panel --&gt;
            |     &lt;div class="panel panel-left"&gt;
            |         ... panel content goes here ...
            |     &lt;/div&gt;
            | 
            |     &lt;!-- Right panel --&gt;
            |     &lt;div class="panel panel-right"&gt;
            |         ... panel content goes here ...
            |     &lt;/div&gt;
            | 
            |     ...
            | &lt;/body&gt;   
        p 在我们添加侧栏后,我们需要为每个侧栏选择打开效果。可能有两种效果:"Reveal"(侧栏从整个App的内容中移出)和"Cover"(侧栏覆盖App的内容)。如果您想要使用"Reveal"效果应该向侧栏添加 <strong>"panel-reveal"</strong> 类, 如果要使用"Cover"效果则添加 <strong>"panel-cover"</strong> 类:
        pre
          code
            | &lt;body&gt;
            |     &lt;!-- First, we need to add Panel's overlay that will overlays app while panel is opened --&gt;
            |     &lt;div class="panel-overlay"&gt;&lt;/div&gt;
            | 
            |     &lt;!-- Left panel, let it be with reveal effect --&gt;
            |     &lt;div class="panel panel-left panel-reveal"&gt;
            |         ... panel content goes here ...
            |     &lt;/div&gt;
            | 
            |     &lt;!-- Right panel, with cover effect --&gt;
            |     &lt;div class="panel panel-right panel-cover"&gt;
            |         ... panel content goes here ...
            |     &lt;/div&gt;
            | 
            |     ...
            | &lt;/body&gt; 
      h2 打开和关闭侧栏
      h3(data-device-preview="../docs-demos/panels.html") 从 HTML
      p Ok, 现在当我们的App里有侧栏,我们需要知道如何打开/关闭它们:
      .important-note
        ul
          li
            p 为了打开侧栏，我们需要添加<strong>"open-panel"</strong> 类到任意HTML元素上(最好加到链接节点上)
            p 为了关闭侧栏，我们需要添加<strong>"close-panel"</strong> 类到任意HTML元素上(最好加到链接节点上)
          li
            p 如果你的App里有两个侧栏，链接默认将打开/关闭左侧栏
          li
            p 如果你想要指定哪个侧栏被开启/关闭,那么它可以通过HTML元素上额外的属性<strong>data-panel="left"</strong>完成。
      p 根据以上注意点：
      pre
        code
          | &lt;body&gt;
          |   &lt;!-- Panels Overlay --&gt;
          |   &lt;div class="panel-overlay"&gt;&lt;/div&gt;
          | 
          |   &lt;!-- Left Panel with Reveal effect --&gt;
          |   &lt;div class="panel panel-left panel-reveal"&gt;
          |     &lt;div class="content-block"&gt;
          |       &lt;p&gt;Left Panel content here&lt;/p&gt;
          |       &lt;!-- Click on link with "close-panel" class will close panel --&gt;
          |       &lt;p&gt;&lt;a href="#" class="close-panel"&gt;Close me&lt;/a&gt;&lt;/p&gt;
          |       &lt;!-- Click on link with "open-panel" and data-panel="right" attribute will open Right panel --&gt;
          |       &lt;p&gt;&lt;a href="#" data-panel="right" class="open-panel"&gt;Open Right Panel&lt;/a&gt;&lt;/p&gt;
          |     &lt;/div&gt;
          |   &lt;/div&gt;
          | 
          |   &lt;!-- Right Panel with Cover effect --&gt;
          |   &lt;div class="panel panel-right panel-cover"&gt;
          |     &lt;div class="content-block"&gt;
          |       &lt;p&gt;Right Panel content here&lt;/p&gt;
          |       &lt;!-- Click on link with "close-panel" class will close panel --&gt;
          |       &lt;p&gt;&lt;a href="#" class="close-panel"&gt;Close me&lt;/a&gt;&lt;/p&gt;
          |       &lt;!-- Click on link with "open-panel" and data-panel="left" attribute will open Left panel --&gt;
          |       &lt;p&gt;&lt;a href="#" data-panel="left" class="open-panel"&gt;Open Left Panel&lt;/a&gt;&lt;/p&gt;
          |     &lt;/div&gt;
          |   &lt;/div&gt;
          | 
          |   ...
          |   &lt;div class="page-content"&gt;
          |     &lt;div class="content-block"&gt;
          |       &lt;!-- If no data-panel attribute, Left panel will be opened by default --&gt;
          |       &lt;p&gt;&lt;a href="#" class="open-panel"&gt;Open Left Panel&lt;/a&gt;&lt;/p&gt;
          |       &lt;!-- Click on link with "open-panel" and data-panel="right" attribute will open Right panel --&gt;
          |       &lt;p&gt;&lt;a href="#" data-panel="right" class="open-panel"&gt;Open Right Panel&lt;/a&gt;&lt;/p&gt;
          |     &lt;/div&gt;
          |   &lt;/div&gt;
          |   ...
          | &lt;/body&gt;
      h3(data-device-preview="../docs-demos/panels-js.html") 使用 JavaScript
      p 我们也可以通过使用JavaScript打开和关闭侧栏,为此我们需要查看相关的App方法：
      p
        span.method myApp.openPanel(<span>position</span>)</span>
        |  - 打开侧栏.
      ul.method-parameters
        li
          span.parameter position
          |  - <span class="parameter-type">string</span> - 侧栏打开的位置: <strong>"left"</strong> 或 <strong>"right"</strong>. 必需. 
      p
        span.method myApp.closePanel()</span>
        |  - 关闭最近打开的侧栏.
      pre
        code
          | &lt;body&gt;
          |   &lt;div class="panel-overlay"&gt;&lt;/div&gt;
          |   &lt;div class="panel panel-left panel-reveal"&gt;
          |     &lt;div class="content-block"&gt;
          |       &lt;p&gt;Left Panel content here&lt;/p&gt;
          |       &lt;p&gt;&lt;a href="#" class="panel-close"&gt;Close me&lt;/a&gt;&lt;/p&gt;
          |       &lt;p&gt;&lt;a href="#" class="open-right-panel"&gt;Open Right Panel&lt;/a&gt;&lt;/p&gt;
          |     &lt;/div&gt;
          |   &lt;/div&gt;
          |   &lt;div class="panel panel-right panel-cover"&gt;
          |     &lt;div class="content-block"&gt;
          |       &lt;p&gt;Right Panel content here&lt;/p&gt;
          |       &lt;p&gt;&lt;a href="#" class="panel-close"&gt;Close me&lt;/a&gt;&lt;/p&gt;
          |       &lt;p&gt;&lt;a href="#" class="open-left-panel"&gt;Open Left Panel&lt;/a&gt;&lt;/p&gt;
          |     &lt;/div&gt;
          |   &lt;/div&gt;
          |   ...
          |     &lt;div class="page-content"&gt;
          |       &lt;div class="content-block"&gt;
          |         &lt;p&gt;&lt;a href="#" class="open-left-panel"&gt;Open Left Panel&lt;/a&gt;&lt;/p&gt;
          |         &lt;p&gt;&lt;a href="#" class="open-right-panel"&gt;Open Right Panel&lt;/a&gt;&lt;/p&gt;
          |       &lt;/div&gt;
          |     &lt;/div&gt;
          |   ...
          |   &lt;script&gt;
          |     var myApp = new Framework7();
          | 
          |     var $$ = Dom7;
          | 
          |     $$('.open-left-panel').on('click', function (e) {
          |         // 'left' position to open Left panel
          |         myApp.openPanel('left');
          |     });
          | 
          |     $$('.open-right-panel').on('click', function (e) {
          |         // 'right' position to open Right panel
          |         myApp.openPanel('right');
          |     });
          | 
          |     $$('.panel-close').on('click', function (e) {
          |         myApp.closePanel();
          |     });
          | 
          |   &lt;/script&gt;
          | &lt;/body&gt;    
      h2(data-device-preview="../docs-demos/panels-events.html") Panel 事件
      p Panel事件对检测用户如何与你的侧栏交互，或者在侧栏打开/关闭时做一些JavaScript操作非常有用。
      table.events-table
        thead
          tr
            th Event（事件）
            th Target（目标）
            th Description（描述）
        tbody
          tr
            td open
            td Panel Element<span>&lt;div class="panel"&gt;</span>
            td 当侧栏的打开动画开始时，事件将被触发
          tr
            td opened
            td Panel Element<span>&lt;div class="panel"&gt;</span>
            td 当侧栏的打开动画结束时，事件将被触发
          tr
            td close
            td Panel Element<span>&lt;div class="panel"&gt;</span>
            td 当侧栏的关闭动画开始时，事件将被触发
          tr
            td closed
            td Panel Element<span>&lt;div class="panel"&gt;</span>
            td 当侧栏的关闭动画完成时，事件将被触发
      p 这里有一个例子：
      pre
        code
          | var myApp = new Framework7();
          | 
          | var $$ = Dom7;
          | 
          | $$('.panel-left').on('opened', function () {
          |     myApp.alert('Left panel opened!');
          | });
          | $$('.panel-left').on('close', function () {
          |     myApp.alert('Left panel is closing!');
          | });
          | $$('.panel-right').on('open', function () {
          |     myApp.alert('Right panel is opening!');
          | });
          | $$('.panel-right').on('closed', function () {
          |     myApp.alert('Right panel closed!');
          | }); 
      h2(data-device-preview="../docs-demos/panels-swipe.html") 滑动屏幕打开侧栏
      p Framework7支持通过滑动手势打开侧栏。<strong>但有一个限制 —— 只有一个菜单能被设置成允许滑动屏幕打开</strong> (左或右)。 
      p 要使用这个功能，我们需要在<a href="init-app.html">App初始化</a>时设置相关参数：
      pre
        code
          | var myApp = new Framework7({
          |     swipePanel: 'left'
          | });
      div(style="height:200px")
      .full-width.stop-scroll-device
        h2 侧栏已经被打开？
        p 有时候检测我们的一些侧栏是否是打开的是很有用的。这很容易,当一些菜单被打开时<code>&lt;body&gt;</code>将由以下规则生成被添加的类：<strong>with-panel-[position]-[effect]</strong>:
        ul
          li
            p 如果你有带Cover效果的左侧栏打开着，body会有“with-panel-left-cover”类 <code>&lt;body class="with-panel-left-cover"&gt;</code>
          li
            p 如果你有带Reveal效果的左侧栏打开着, body 会有“with-panel-left-reveal”类 <code>&lt;body class="with-panel-left-reveal"&gt;</code>
          li
            p 如果你有带Cover效果的右侧栏打开着，body会有"with-panel-right-cover" 类  <code>&lt;body class="with-panel-right-cover"&gt;</code>
          li
            p 如果你有带Reveal效果的右侧栏打开着, body 会有"with-panel-right-reveal" 类 <code>&lt;body class="with-panel-right-reveal"&gt;</code>
        p You can use it in JavaScript to detect opened panel:
        pre
          code.js
            | if ($$('body').hasClass('with-panel-left-cover')) {
            |     console.log('Left Panel is opened')
            | }
        p 或者在 CSS 定义额外的样式:
        pre
          code
            | /* Change Status Bar background when panel is opened */        
            | body.with-panel-left-cover .statusbar-overlay{
            |     background-color: #333;
            | }        
